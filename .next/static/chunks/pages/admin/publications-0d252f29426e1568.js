(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[49],{7992:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/publications",function(){return a(4568)}])},4568:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l}});var n=a(5893),i=a(7294),c=a(7066),r=a(2920),o=a.n(r),s=()=>{let[e,t]=(0,i.useState)([]),[a,r]=(0,i.useState)(""),[s,l]=(0,i.useState)(""),[h,u]=(0,i.useState)(""),[d,_]=(0,i.useState)(null);(0,i.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await c.Z.get("http://localhost:5000/api/publications");t(e.data)}catch(e){console.error("Failed to fetch publications data",e)}},f=async e=>{e.preventDefault();try{null!==d?(console.log("Updating publication with id: ".concat(d)),await c.Z.put("http://localhost:5000/api/publications/".concat(d),{title:a,link:s,description:h})):(console.log("Creating new publication"),await c.Z.post("http://localhost:5000/api/publications",{title:a,link:s,description:h})),r(""),l(""),u(""),_(null),p()}catch(e){console.error("Failed to save publication data",e)}},x=t=>{console.log("Editing publication with id: ".concat(t));let a=e.find(e=>e.id===t);a?(r(a.title),l(a.link),u(a.description),_(t),console.log("Editing ID set to: ".concat(t))):console.log("Publication item not found for id: ".concat(t))},b=async e=>{try{console.log("Deleting publication with id: ".concat(e)),await c.Z.delete("http://localhost:5000/api/publications/".concat(e)),p()}catch(e){console.error("Failed to delete publication data",e)}};return(0,n.jsxs)("div",{className:o().adminContainer,children:[(0,n.jsx)("h1",{className:o().heading,children:"Manage Publications"}),(0,n.jsxs)("form",{onSubmit:f,className:o().form,children:[(0,n.jsx)("input",{type:"text",value:a,onChange:e=>r(e.target.value),placeholder:"Title",className:o().input}),(0,n.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Link",className:o().input}),(0,n.jsx)("textarea",{value:h,onChange:e=>u(e.target.value),placeholder:"Description",className:o().textarea}),(0,n.jsx)("button",{type:"submit",className:o().button,children:null!==d?"Update":"Add"})]}),(0,n.jsx)("div",{className:o().researchList,children:e.map(e=>(0,n.jsxs)("div",{className:o().researchItem,children:[(0,n.jsx)("h2",{children:e.title}),(0,n.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.link}),(0,n.jsx)("p",{children:e.description}),(0,n.jsx)("button",{onClick:()=>x(e.id),className:o().editButton,children:"Edit"}),(0,n.jsx)("button",{onClick:()=>b(e.id),className:o().deleteButton,children:"Delete"})]},e.id))})]})},l=()=>(0,n.jsx)("div",{children:(0,n.jsx)(s,{})})},2920:function(e){e.exports={researchContainer:"Research_researchContainer__Pqapr",heading:"Research_heading__p4q6f",researchList:"Research_researchList__G_Pp4",researchBox:"Research_researchBox___dXnT",researchContent:"Research_researchContent__AfrUZ",researchTitle:"Research_researchTitle__0PCnu",researchDescription:"Research_researchDescription__s9htk",readMoreContainer:"Research_readMoreContainer__yWvuP",readMoreButton:"Research_readMoreButton__KPdhl",form:"Research_form__AUn_9",input:"Research_input__4M_Yf",textarea:"Research_textarea__gMQPY",button:"Research_button__xIl1Y",editButton:"Research_editButton__hkEZD",deleteButton:"Research_deleteButton__IQEah"}}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=7992)}),_N_E=e.O()}]);