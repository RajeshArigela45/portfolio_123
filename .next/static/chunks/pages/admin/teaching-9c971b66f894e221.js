(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{5028:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/teaching",function(){return n(9140)}])},9140:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(5893),i=n(7294),c=n(7066),o=n(973),s=n.n(o),l=()=>{let[e,t]=(0,i.useState)([]),[n,o]=(0,i.useState)(""),[l,h]=(0,i.useState)(""),[r,d]=(0,i.useState)(2023),[u,g]=(0,i.useState)(""),[m,_]=(0,i.useState)(null);(0,i.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await c.Z.get("http://localhost:5000/api/teaching");t(e.data)}catch(e){console.error("Failed to fetch teaching data",e)}},x=async e=>{e.preventDefault();try{null!==m?(console.log("Updating teaching entry with id: ".concat(m)),await c.Z.put("http://localhost:5000/api/teaching/".concat(m),{courseName:n,semester:l,year:r,university:u})):(console.log("Creating new teaching entry"),await c.Z.post("http://localhost:5000/api/teaching",{courseName:n,semester:l,year:r,university:u})),o(""),h(""),d(2023),g(""),_(null),p()}catch(e){console.error("Failed to save teaching data",e)}},N=t=>{console.log("Editing teaching entry with id: ".concat(t));let n=e.find(e=>e.id===t);n?(o(n.courseName),h(n.semester),d(n.year),g(n.university),_(t),console.log("Editing ID set to: ".concat(t))):console.log("Teaching entry not found for id: ".concat(t))},f=async e=>{try{console.log("Deleting teaching entry with id: ".concat(e)),await c.Z.delete("http://localhost:5000/api/teaching/".concat(e)),p()}catch(e){console.error("Failed to delete teaching data",e)}};return(0,a.jsxs)("div",{className:s().adminContainer,children:[(0,a.jsx)("h1",{className:s().heading,children:"Manage Teaching"}),(0,a.jsxs)("form",{onSubmit:x,className:s().form,children:[(0,a.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),placeholder:"Course Name",className:s().input}),(0,a.jsx)("input",{type:"text",value:l,onChange:e=>h(e.target.value),placeholder:"Semester",className:s().input}),(0,a.jsx)("input",{type:"number",value:r,onChange:e=>d(Number(e.target.value)),placeholder:"Year",className:s().input}),(0,a.jsx)("input",{type:"text",value:u,onChange:e=>g(e.target.value),placeholder:"University",className:s().input}),(0,a.jsx)("button",{type:"submit",className:s().button,children:null!==m?"Update":"Add"})]}),(0,a.jsx)("div",{className:s().teachingList,children:e.map(e=>(0,a.jsxs)("div",{className:s().teachingItem,children:[(0,a.jsx)("h2",{children:e.courseName}),(0,a.jsxs)("p",{children:[e.semester," ",e.year]}),(0,a.jsx)("p",{children:e.university}),(0,a.jsx)("button",{onClick:()=>N(e.id),className:s().editButton,children:"Edit"}),(0,a.jsx)("button",{onClick:()=>f(e.id),className:s().deleteButton,children:"Delete"})]},e.id))})]})},h=()=>(0,a.jsx)("div",{children:(0,a.jsx)(l,{})})},973:function(e){e.exports={adminContainer:"AdminTeaching_adminContainer__WgUKg",heading:"AdminTeaching_heading__LZqBF",form:"AdminTeaching_form__FRob8",input:"AdminTeaching_input__ghz7k",textarea:"AdminTeaching_textarea__5UJwg",button:"AdminTeaching_button__iAcdA",teachingList:"AdminTeaching_teachingList__ZhEN2",teachingItem:"AdminTeaching_teachingItem__mKqwZ",editButton:"AdminTeaching_editButton__O5Ye4",deleteButton:"AdminTeaching_deleteButton__DQ3XU"}}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=5028)}),_N_E=e.O()}]);